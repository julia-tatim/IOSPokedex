////  LoginViewModel.swift//  IOSPokedex////  Created by user277135 on 6/15/25.//import Foundationimport CoreDataclass LoginViewModel: ObservableObject {    @Published var email = ""    @Published var senha = ""    @Published var erroMensagem = ""    @Published var loginSucesso = false    @Published var userId: String = ""   // ID do usuário logado    func login() {        let context = PersistenceController.shared.container.viewContext        let request = NSFetchRequest<Usuario>(entityName: "Usuario")        request.predicate = NSPredicate(format: "email == %@ AND senha == %@", email, senha)        do {            let usuarios = try context.fetch(request)            if let usuario = usuarios.first {                userId = usuario.uid ?? ""   // <- Corrigido!                loginSucesso = true            } else {                erroMensagem = "Email ou senha incorretos"            }        } catch {                    erroMensagem = "Erro ao buscar usuário: \(error.localizedDescription)"                }            }        }